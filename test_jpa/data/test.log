/*C4*/SET SCHEMA PUBLIC
alter table Dog add column master_id varchar(255)
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/DISCONNECT
/*C6*/SET SCHEMA PUBLIC
INSERT INTO DOG VALUES(5,'charles',NULL)
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
create table Master (id bigint generated by default as identity (start with 1), primary key (id))
INSERT INTO DOG VALUES(6,'charles',NULL)
INSERT INTO MASTER VALUES(1)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
drop table Dog if exists
drop table Master if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), master_id bigint, primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Dog add constraint FK_cnx9ow6qyimctv71errnurjmt foreign key (master_id) references Master
INSERT INTO DOG VALUES(1,'Poppy',NULL)
INSERT INTO MASTER VALUES(1,'Gautier')
COMMIT
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
alter table Dog drop constraint FK_cnx9ow6qyimctv71errnurjmt
drop table Dog if exists
drop table Master if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), master_id bigint, primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Dog add constraint FK_cnx9ow6qyimctv71errnurjmt foreign key (master_id) references Master
INSERT INTO DOG VALUES(1,'Poppy',NULL)
INSERT INTO MASTER VALUES(1,'Gautier')
COMMIT
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
alter table Dog drop constraint FK_cnx9ow6qyimctv71errnurjmt
drop table Dog if exists
drop table Master if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), master_id bigint, primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Dog add constraint FK_cnx9ow6qyimctv71errnurjmt foreign key (master_id) references Master
INSERT INTO DOG VALUES(1,'Poppy',NULL)
INSERT INTO MASTER VALUES(1,'Gautier')
DELETE FROM DOG WHERE ID=1
INSERT INTO DOG VALUES(1,'Poppy',1)
COMMIT
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
drop table Dog if exists
drop table Master if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), DOG_ID bigint, primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Dog add constraint FK_k4ry7gi1c20o34jrf2jbewvka foreign key (DOG_ID) references Master
INSERT INTO DOG VALUES(1,'Poppy',NULL)
INSERT INTO MASTER VALUES(1,'Gautier')
DELETE FROM DOG WHERE ID=1
INSERT INTO DOG VALUES(1,'Poppy',1)
COMMIT
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
drop table Dog if exists
drop table Master if exists
drop table Master_Dog if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Master_Dog (Master_id bigint not null, dogs_id bigint not null)
alter table Master_Dog add constraint UK_f87l2jvd2n9pjaga1ouq8otj5  unique (dogs_id)
alter table Master_Dog add constraint FK_f87l2jvd2n9pjaga1ouq8otj5 foreign key (dogs_id) references Dog
alter table Master_Dog add constraint FK_3yibgvnsfafwc378bixbm2ac1 foreign key (Master_id) references Master
INSERT INTO DOG VALUES(1,'Poppy')
INSERT INTO MASTER VALUES(1,'Gautier')
INSERT INTO MASTER_DOG VALUES(1,1)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DROP TABLE MASTER_DOG
DROP TABLE MASTER
DROP TABLE DOG
/*C17*/SET SCHEMA PUBLIC
drop table Dog if exists
drop table Master if exists
create table Dog (id bigint generated by default as identity (start with 1), name varchar(255), DOG_ID bigint, primary key (id))
create table Master (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Dog add constraint FK_k4ry7gi1c20o34jrf2jbewvka foreign key (DOG_ID) references Master
INSERT INTO DOG VALUES(1,'Poppy',NULL)
INSERT INTO MASTER VALUES(1,'Gautier')
DELETE FROM DOG WHERE ID=1
INSERT INTO DOG VALUES(1,'Poppy',1)
COMMIT
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/DISCONNECT
